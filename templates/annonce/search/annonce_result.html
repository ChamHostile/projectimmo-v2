{% extends 'main.html' %}
{% block content %}
<div class="container">
    <div class="row">
        <div class="col">
            <h1>{{annonce.titre_logement}}</h1>
            <p>{{annonce.categorie_logement}}</p>
            <small id="emailHelp" class="form-text text-muted">{{ annonce.address.rue }} {{annonce.address.voie}}, {{annonce.address.ville}} - {{annonce.address.zipCode}}</small>
         </div>
        <div class="col-12">
            <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
              <div class="carousel-inner" role="listbox" style="max-width:800px; max-height:600px !important;">
                  {% for image in myImages %}
                  {% if annonce.id == image.annonce.id %}
                    {% if forloop.counter == 1 %}
                        <div class="carousel-item active">
                          <img class="d-block w-100" src="{{image.images.url}}" alt="slide{{image.id}}">
                        </div>
                    {% else %}
                        <div class="carousel-item">
                          <img class="d-block w-100" src="{{image.images.url}}" alt="slide{{image.id}}">
                        </div>
                    {% endif%}
                  {% endif %}
                  {% endfor %}
              <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
                <div class="col">
                    <div id="accordion">
                      <div class="card">
                        <div class="card-header" id="headingOne">
                          <h5 class="mb-0">
                            <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                              Détail logement
                            </button>
                          </h5>
                        </div>

                        <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
                          <div class="card-body">
                              <p>Type d'hébergement : {{ annonce.hebergement_choice }}</p>
                              <p>Catégorie du logement : {{ annonce.categorie_logement }}</p>
                              <p>Nombre de locataires : {{ annonce.nombre_personne }}</p>
                              <p>Nombre de pièces : {{ annonce.piece_couchage }}</p>
                              <p>Charges : {{annonce.charges.all|join:", " }}</p>
                              <p>Duree de location Minimale: {{annonce.dureeLocationMini}}</p>
                              <p>Duree de location Maximale: {{annonce.dureeLocationMaxi}}</p>
                              <p>Loyer (TC) : {{annonce.loyer_tc}}</p>
                              <p>Charges loyer : {{ annonce.charges_loyer }}</p>
                          </div>
                        </div>
                      </div>
                      <div class="card">
                        <div class="card-header" id="headingTwo">
                          <h5 class="mb-0">
                            <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                              Equipements
                            </button>
                          </h5>
                        </div>
                        <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
                          <div class="card-body">
                            <p>Equipments du loyer : {{annonce.equipements.all|join:" - " }}</p>
                        </div>
                      </div>
                      <div class="card">
                        <div class="card-header" id="headingThree">
                          <h5 class="mb-0">
                            <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                              Informations Loueur
                            </button>
                          </h5>
                        </div>
                        <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
                          <div class="card-body">
                              <p>Prenom : {{annonce.user.first_name}}</p>
                              <p>Nom : {{annonce.user.last_name}}</p>
                              <p>Téléphone de contact : {{annonce.user.telephone}}</p>
                              <p>Type de locataire : {{annonce.user.get_typelocataire_display}}</p>
                          </div>
                        </div>
                      </div>
                    </div>
                </div>


    </div>

</div>
</div>
{% endblock %}